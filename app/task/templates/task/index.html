{%extends 'base.html'%}

{%block title%}
 Корпоративная сеть
{%endblock%}

{%block main%}
<section class="about">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="text-center text-uppercase color2 mb-5">Описание уязвимости SQL injection</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-6 col-lg-12">
                <p><b>SQL инъекция (SQL injection)</b> - это вид атаки на веб-приложения, при котором злоумышленник внедряет злонамеренные SQL-запросы в пользовательский ввод, который затем передается и выполняется на сервере базы данных. Это позволяет атакующему получить несанкционированный доступ к данным в базе данных или даже повлиять на ее содержимое. </p>
                <p>Принцип работы SQL инъекции заключается в неадекватной обработке пользовательского ввода. Когда входные данные не фильтруются или не санитизируются должным образом перед тем, как они используются в SQL-запросах, злоумышленник может вставить свои собственные SQL-коды, которые будут выполняться на сервере.</p>
                <p><b></b>Пример:</b></p>
                <p>Предположим, у нас есть веб-приложение, которое выполняет SQL-запрос для авторизации пользователя:</p>
                <code>SELECT * FROM users WHERE username = 'введенное_имя' AND password = 'введенный_пароль';</code>
                <p>Если приложение не санитизирует входные данные, злоумышленник может ввести в поле "введенное_имя" следующее:</p>
                <code>' OR '1'='1</code>
                <p>Итак, измененный SQL-запрос будет выглядеть так:</p>
                <code>SELECT * FROM users WHERE username = '' OR '1'='1' AND password = 'введенный_пароль';</code>
                <p>В результате SQL-запрос будет верен, потому что условие '1'='1' всегда истинно. Это позволит злоумышленнику обойти процесс авторизации и получить доступ к данным всех пользователей или выполнить другие действия с базой данных.</p>
                <p>Чтобы защититься от SQL инъекций, рекомендуется использовать параметризованные запросы, подготовленные выражения или хранимые процедуры. Это позволит серверу правильно обрабатывать входные данные и предотвращать внедрение вредоносного SQL-кода.</p>
                <p>Никогда не доверяйте или не предполагайте, что ввод от пользователей безопасен. Всегда выполняйте соответствующую проверку и санитизацию данных, прежде чем использовать их в SQL-запросах.</p>
            </div>
            <div class="col-xl-6 col-lg-12">
                <p>Для предотвращения уязвимостей XSS рекомендуется следующие меры:</p>
                <ul>
                    <li>Валидация и санитизация входных данных на серверной стороне.</li>
                    <li>Использование безопасных методов для вставки динамических данных на страницу (например, методы, предоставляемые шаблонизаторами).</li>
                    <li>Использование HTTP заголовка Content-Security-Policy (CSP), чтобы ограничить источники, из которых можно загружать скрипты, стили и другой контент.</li>
                    <li>Установка флага "HttpOnly" для сеансовых куки, чтобы предотвратить доступ к ним из скриптов на стороне клиента.</li>
                    <li>Установка флага "Secure" для сеансовых куки, чтобы их можно было передавать только по защищенному (HTTPS) соединению.</li>
                  </ul>
                <p>Безопасность веб-приложений является критически важным аспектом, и все разработчики должны быть осведомлены о возможных уязвимостях и методах их предотвращения.</p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <pre>
                    <code>
                        <span class="comment">-------------------------------------------</span>
                        <span class="comment">В части кода ниже представлена уязвимость типа <b>Stored (постоянный) XSS.</b></span>
                        <span class="comment">-------------------------------------------</span>
                        &lt;tbody v-for="task, index in tasks" :key="index"&gt;
                            &lt;td v-html="task.kr_name"&gt;&lt;/td&gt;
                            &lt;td v-html="task.name"&gt;&lt;/td&gt;
                            &lt;td v-html="task.kategor"&gt;&lt;/td&gt;
                            &lt;td v-html="task.tip"&gt;&lt;/td&gt;
                        &lt;/tbody&gt;
                        <span class="comment">-------------------------------------------</span>
                        
                        
                    </code>
                </pre>  
            </div>
        </div>
    </div>
</section>
<section>
    <div class="container" id="app">
        <div class="row">
            <div class="col-12">
                <h2 class="text-center text-uppercase color1 mb-5">Пример уязвимости SQL injection</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <pre>
                    <code>
                        <span class="keyword">Для </span>
                    </code>
                </pre>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <div class = "card-search">
                    <h4 class="text-center">Добавить ИС</h4>
                    <form class="card-form" @submit.prevent="createTask">
                        <div class = "input">
                            <input type="text" class="input-field" v-model="task.kr_name">
                            <label class = "input-label">Краткое наименование</label>
                        </div>
                        <div class = "input">
                            <input type="text" class="input-field" v-model="task.name">
                            <label class = "input-label" for="">Полное наименование</label>
                        </div>
                        <div class = "input">
                            <select v-model="task.kategor">
                                <option>К</option>
                                <option>КТ</option>
                                <option>ПНд</option>
                            </select>
                            <label class = "input-label">Категория обрабатываемой информации</label>
                        </div>
                        <div class = "input">
                            <select v-model="task.tip">
                                <option>локальная</option>
                                <option>корпоративная</option>
                            </select>
                            <label class = "input-label">Тип обрабатываемой информации</label>
                        </div>
                        <div class="action">
                            <button class="action-button" type="submit">добавить</button>
                        </div>    
                    </form>
                </div>
            </div>
            <div class="col-lg-6">
                <div class = "card-search">
                    <h4 class="text-center">Поиск ИС</h4>
                    <form class="card-form" @submit.prevent="searchTask">
                        <div class = "input">
                            <input type="text" class="input-field" v-model="search.kr_name">
                            <label class="input-label">Краткое наименование</label>
                        </div>
                        <div class="action">
                            <button class="action-button" type ="submit">Поиск</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="card-body">
                    <table class ="table">
                    <thead>
                        <tr>
                            <th scope="col">Краткое наименование</th>
                            <th scope="col">Полное наименование</th>
                            <th scope="col">Категория обрабатываемой информации</th>
                            <th scope="col">Тип обрабатываемой информации</th>
                        </tr>
                    </thead>
                        <tbody v-for="task, index in tasks" :key="index">
                            <td>{ task.kr_name }</td> 
                            <td>{ task.name }</td>
                            <td>{ task.kategor }</td>
                            <td>{ task.tip }</td>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="{{url_for('static', filename='js/app.js')}}"></script>
{%endblock%}
